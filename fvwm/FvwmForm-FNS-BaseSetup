#-----------------------------------------------------------------------
# File:		FvwmForm-FNS-BaseSetup
# Version:	1.1.3
# Licence: 	GPL 2
#
# Description:	Script to configure default settings of Fvwm-Nightshade
#
# Author:	Thomas Funk <t.funk@web.de>	
# Created:	08/01/2012
# Changed:	09/06/2012
#-----------------------------------------------------------------------

DestroyModuleConfig  FvwmForm-FNS-BaseSetup: *
*FvwmForm-FNS-BaseSetup: Title  "Fvwm-Nightshade -- Base Setup"
*FvwmForm-FNS-BaseSetup: WarpPointer
# Layout
*FvwmForm-FNS-BaseSetup: Line   center
*FvwmForm-FNS-BaseSetup: Text   "Use this setup to configure default settings of Fvwm-Nightshade"
*FvwmForm-FNS-BaseSetup: Line   left
*FvwmForm-FNS-BaseSetup: Text	" "
*FvwmForm-FNS-BaseSetup: Line

*FvwmForm-FNS-BaseSetup: Line	center
*FvwmForm-FNS-BaseSetup: Text	"------ Environment (Splash, Wallpaper Dir) ------"
*FvwmForm-FNS-BaseSetup: Line

*FvwmForm-FNS-BaseSetup: Line	left
*FvwmForm-FNS-BaseSetup: Text 	"Used Splash: "
*FvwmForm-FNS-BaseSetup: Line   center
*FvwmForm-FNS-BaseSetup: Input 	Splash 60 "$FNS_SYSTEMDIR/artwork/splashs/splash_fns_small.png"
*FvwmForm-FNS-BaseSetup: Line

*FvwmForm-FNS-BaseSetup: Line	left
*FvwmForm-FNS-BaseSetup: Text 	"Used Wallpaper Directory: "
*FvwmForm-FNS-BaseSetup: Line   center
*FvwmForm-FNS-BaseSetup: Input 	WpDir 60 "$FNS_SYSTEMDIR/artwork/wallpapers"
*FvwmForm-FNS-BaseSetup: Line

*FvwmForm-FNS-BaseSetup: Line	center
*FvwmForm-FNS-BaseSetup: Text	"---------- Decoration (Windows, Menus) ----------"
*FvwmForm-FNS-BaseSetup: Line

*FvwmForm-FNS-BaseSetup: Line	left
*FvwmForm-FNS-BaseSetup: Text 	"Used Theme:    "
*FvwmForm-FNS-BaseSetup: Input 	Theme 15 "Ambience"
*FvwmForm-FNS-BaseSetup: Text 	" (Others: Default, Air)"
*FvwmForm-FNS-BaseSetup: Line

*FvwmForm-FNS-BaseSetup: Line	left
*FvwmForm-FNS-BaseSetup: Text 	"Used Font:     "
*FvwmForm-FNS-BaseSetup: Input 	Font 15 "Arial"
*FvwmForm-FNS-BaseSetup: Text 	" (E.g. Sans, Helvetia, Verdana)"
*FvwmForm-FNS-BaseSetup: Line

*FvwmForm-FNS-BaseSetup: Line	left
*FvwmForm-FNS-BaseSetup: Text 	"Used Font size:"
*FvwmForm-FNS-BaseSetup: Input 	Fontsize 3 "12"
*FvwmForm-FNS-BaseSetup: Text 	"              (E.g. 10, 11, 13)"
*FvwmForm-FNS-BaseSetup: Line

*FvwmForm-FNS-BaseSetup: Line       left
*FvwmForm-FNS-BaseSetup: Text	" "
*FvwmForm-FNS-BaseSetup: Line	center
*FvwmForm-FNS-BaseSetup: Text	"------- Panels (Iconman, Pager, Systray) -------"
*FvwmForm-FNS-BaseSetup: Line

*FvwmForm-FNS-BaseSetup: Line	left
*FvwmForm-FNS-BaseSetup: Text 	"Used Layout:   "
*FvwmForm-FNS-BaseSetup: Selection	SelItype single
*FvwmForm-FNS-BaseSetup: Choice	LayoutH	LayoutH	on  "Horizontal (Panels on top/bottom)"
*FvwmForm-FNS-BaseSetup: Line	left
*FvwmForm-FNS-BaseSetup: Text 	"               "
*FvwmForm-FNS-BaseSetup: Choice	LayoutV	LayoutV	off "Vertical (Panels on right/left side)"
*FvwmForm-FNS-BaseSetup: Line

*FvwmForm-FNS-BaseSetup: Line       left
*FvwmForm-FNS-BaseSetup: Text	" "
*FvwmForm-FNS-BaseSetup: Line	center
*FvwmForm-FNS-BaseSetup: Text	"----------------- Applications -----------------"
*FvwmForm-FNS-BaseSetup: Line

*FvwmForm-FNS-BaseSetup: Line	left
*FvwmForm-FNS-BaseSetup: Text 	"Used Terminal: "
*FvwmForm-FNS-BaseSetup: Input 	Terminal 15 "xterm"
*FvwmForm-FNS-BaseSetup: Text 	" (E.g. konsole, aterm, rxvt)"
*FvwmForm-FNS-BaseSetup: Line

*FvwmForm-FNS-BaseSetup: Line	left
*FvwmForm-FNS-BaseSetup: Text 	"Used Browser:  "
*FvwmForm-FNS-BaseSetup: Input 	Browser 15 "firefox"
*FvwmForm-FNS-BaseSetup: Text 	" (E.g. chromium, seamonkey)"

*FvwmForm-FNS-BaseSetup: Line       left
*FvwmForm-FNS-BaseSetup: Text	" "
*FvwmForm-FNS-BaseSetup: Line       expand
*FvwmForm-FNS-BaseSetup: Button     quit    "Apply & Save"
*FvwmForm-FNS-BaseSetup: Command   	!if [ ! -f ${FVWM_USERDIR}/.settings ]; then cp ${FNS_SYSTEMDIR}/.settings ${FVWM_USERDIR}/.settings; fi 
*FvwmForm-FNS-BaseSetup: Command   	$(Theme? FuncWriteInfoStoreToFileAndSet used_theme $(Theme) $[FVWM_USERDIR]/.settings)
*FvwmForm-FNS-BaseSetup: Command   	$(Splash? FuncWriteInfoStoreToFileAndSet used_banner $(Splash) $[FVWM_USERDIR]/.settings)
*FvwmForm-FNS-BaseSetup: Command   	$(WpDir? FuncWriteInfoStoreToFileAndSet wallpaper_dir $(WpDir) $[FVWM_USERDIR]/.settings)
*FvwmForm-FNS-BaseSetup: Command   	$(LayoutH? FuncWriteInfoStoreToFileAndSet used_layout Horizontal $[FVWM_USERDIR]/.settings)
*FvwmForm-FNS-BaseSetup: Command   	$(LayoutH?!rm -f ${FVWM_USERDIR}/.layout; ln -s ${FNS_SYSTEMDIR}/layouts/Horizontal ${FVWM_USERDIR}/.layout)
*FvwmForm-FNS-BaseSetup: Command   	$(LayoutV? FuncWriteInfoStoreToFileAndSet used_layout Vertical $[FVWM_USERDIR]/.settings)
*FvwmForm-FNS-BaseSetup: Command   	$(LayoutV?!rm -f ${FVWM_USERDIR}/.layout; ln -s ${FNS_SYSTEMDIR}/layouts/Vertical ${FVWM_USERDIR}/.layout)
*FvwmForm-FNS-BaseSetup: Command   	$(Font? FuncWriteInfoStoreToFileAndSet used_font $(Font) $[FVWM_USERDIR]/.settings)
*FvwmForm-FNS-BaseSetup: Command   	$(Fontsize? FuncWriteInfoStoreToFileAndSet fontsize $(Fontsize) $[FVWM_USERDIR]/.settings)
*FvwmForm-FNS-BaseSetup: Command   	$(Terminal? FuncWriteInfoStoreToFileAndSet default_terminal $(Terminal) $[FVWM_USERDIR]/.settings)
*FvwmForm-FNS-BaseSetup: Command   	$(Browser? FuncWriteInfoStoreToFileAndSet default_browser $(Browser) $[FVWM_USERDIR]/.settings)
*FvwmForm-FNS-BaseSetup: Command   	FuncRestart

# Before saving the data, remove any previously saved data:
*FvwmForm-FNS-BaseSetup: Command DestroyModuleConfig SavedBaseSetup: *
*FvwmForm-FNS-BaseSetup: Command !(                                      /bin/echo \
  "# This file last created by FvwmForm-FNS-BaseSetup on: `/bin/date`."; /bin/echo \
  '*SavedBaseSetup: Splash 	$(Splash) '		; /bin/echo \
  '*SavedBaseSetup: WpDir 	$(WpDir) '		; /bin/echo \
  '*SavedBaseSetup: Theme 	$(Theme) '		; /bin/echo \
  '*SavedBaseSetup: LayoutH	$(LayoutH?on) '		; /bin/echo \
  '*SavedBaseSetup: LayoutV  	$(LayoutV?on) '		; /bin/echo \
  '*SavedBaseSetup: Font  	$(Font) '		; /bin/echo \
  '*SavedBaseSetup: Fontsize   	$(Fontsize) '		; /bin/echo \
  '*SavedBaseSetup: Terminal    $(Terminal) '		; /bin/echo \
  '*SavedBaseSetup: Browser     $(Browser) '		; /bin/echo \
) > ${FVWM_USERDIR}/.FvwmForm-FNS-BaseSetup

*FvwmForm-FNS-BaseSetup: Button       restart "Reset"
*FvwmForm-FNS-BaseSetup: Button       quit    "Cancel"
*FvwmForm-FNS-BaseSetup: Command      Nop
# Tell FvwmForm to read vars from the .FvwmForm-FNS-BaseSetup file:
*FvwmForm-FNS-BaseSetup: UseData .FvwmForm-FNS-BaseSetup *SavedBaseSetup
